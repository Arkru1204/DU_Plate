<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Insert title here</title>
    <script type="text/javascript">
        let xhttp = new XMLHttpRequest(); //XML 통신을 하기 위한 것 (요청)
    
        xhttp.onreadystatechange = function(){
            if(this.readyState == 4 && this.status == 200){
                //alert(this.responseXML);
                nodeValFunc( this );
            }    
        }
        xhttp.open("GET", "xml/restaurant.xml", true);
        xhttp.send();
    
        function nodeValFunc( xml ) {
            let num, name, address, category;
            let txt, nametxt, xmlDoc;
    
            txt = nametxt = '';
    
            xmlDoc = xml.responseXML; //위에서 this를 통해서 넘겨 받음
    
            num = xmlDoc.getElementsByTagName("num");
            name = xmlDoc.getElementsByTagName("name");
            category = xmlDoc.getElementsByTagName("category");
            address = xmlDoc.getElementsByTagName("address");
            console.log(num.length);
    
            for(let i=0; i < num.length; i++){
                // txt += num[i].childNodes[0].nodeValue + "<br>";
                // nametxt += name[i].childNodes[0].nodeValue + "<br>";
                txt += num[i].childNodes[0].nodeValue + " / " // 숫자
                + name[i].childNodes[0].nodeValue + " / " // 식당 이름
                + category[i].childNodes[0].nodeValue + " / " // 카테고리
                + address[i].childNodes[0].nodeValue + "<br>"; // 주소
                
                document.getElementById('demo').innerHTML = txt + nametxt;
            }
    
            
        } // https://jhost.tistory.com/68
        </script>
</head>
<body>
    <p id='demo'></p>
    

</body>
</html>